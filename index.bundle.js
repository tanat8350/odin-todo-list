(()=>{const e=[];let t,n=0;class c{constructor(e){this.name=e,this.tasks=[]}}e.push(new c("test1")),e.push(new c("test2"));class o{constructor(e,t,n,c){this.title=e,this.dueDate=t,this.description=n,this.priority=c}}const r=document.querySelector("#project-new"),a=document.querySelector(".project-new-btn"),s=document.querySelector(".project-new-error");a.addEventListener("click",(()=>{r.value&&(function(t){let n=!1;return e.forEach((e=>{if(e.name===t)return s.textContent="Project already exists",setTimeout((()=>{s.textContent=""}),2e3),n=!0})),n}(r.value)||(e.push(new c(r.value)),r.value="",p(),l.value=e.length-1,n=l.value,k()))}));const u=document.querySelector(".content"),i=document.querySelector(".project-container"),l=document.querySelector("#project-list"),d=document.querySelector("#project-rename");function p(){l.innerText="",e.forEach(((e,t)=>{const n=document.createElement("option");n.textContent=e.name,n.value=t,l.appendChild(n)}))}i.addEventListener("click",(t=>{const c=t.target;c.classList.contains("project-delete-btn")&&(e.splice(n,1),p(),k()),c.classList.contains("project-rename-btn")&&d.value&&(e[n].name=d.value,d.value="",p(),k())})),l.addEventListener("change",(()=>{n=l.value,k()})),p();const v=document.querySelector("#all-projects");v.addEventListener("change",(()=>{k()}));const m=document.querySelector("#new-task-title"),h=document.querySelector("#new-task-due-date");function y(e,c){e.tasks.forEach(((o,r)=>{const a=document.createElement("p");o.priority&&(a.textContent+="[Bell] "),a.textContent+=`${o.title} `,o.dueDate&&(a.textContent+=`[${o.dueDate}] `),v.checked&&(a.textContent+=`{${e.name}}`),u.appendChild(a),function(e,c,o){const r=document.createElement("button");r.textContent="Edit",u.appendChild(r),r.addEventListener("click",(()=>{o>=0&&(l.value=o,n=l.value),t=c,e.title?q.value=e.title:q.value="",e.description?S.value=e.description:S.value="",e.dueDate?C.value=e.dueDate:C.value="",e.priority?x.checked=e.priority:x.checked=!1,E.show()}))}(o,r,c),function(e,t){const n=document.createElement("button");n.textContent="Delete",u.appendChild(n),n.addEventListener("click",(()=>{e.splice(t,1),k()}))}(e.tasks,r)}))}function k(){u.innerText="",v.checked?e.forEach(((e,t)=>{y(e,t)})):y(e[n],n)}document.querySelector(".new-task-btn").addEventListener("click",(()=>{var t,c;m.value&&(t=m.value,c=h.value,e[n].tasks.push(new o(t,c)),m.value="",h.value="",k())}));const E=document.querySelector("dialog"),q=document.querySelector("#edit-title"),S=document.querySelector("#edit-description"),C=document.querySelector("#edit-due-date"),x=document.querySelector("#edit-priority");E.addEventListener("click",(c=>{const o=c.target;o.classList.contains("edit-submit-btn")&&(e[n].tasks[t].title=q.value,e[n].tasks[t].description=S.value,e[n].tasks[t].dueDate=C.value,e[n].tasks[t].priority=x.checked,k()),o.classList.contains("edit-close-btn")&&E.close()}))})();
//# sourceMappingURL=index.bundle.js.map