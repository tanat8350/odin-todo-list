(()=>{class e{constructor(e){this.name=e,this.tasks=[]}}class t{constructor(e,t,n,c){this.title=e,this.dueDate=t,this.description=n,this.priority=c}}const n=JSON.parse(localStorage.getItem("data"))||[new e("Default")];let c,o=0;function a(){localStorage.setItem("data",JSON.stringify(n))}const r=document.querySelector("#project-new"),l=document.querySelector(".project-new-btn"),u=document.querySelector(".project-new-error");l.addEventListener("click",(()=>{r.value&&(function(e){let t=!1;return n.forEach((n=>{if(n.name===e)return u.textContent="Project already exists",setTimeout((()=>{u.textContent=""}),2e3),t=!0})),t}(r.value)||(n.push(new e(r.value)),r.value="",v(),d.value=n.length-1,o=d.value,S()))}));const i=document.querySelector(".content"),s=document.querySelector(".project-container"),d=document.querySelector("#project-list"),p=document.querySelector("#project-rename");function v(){d.innerText="",n.forEach(((e,t)=>{const n=document.createElement("option");n.textContent=e.name,n.value=t,d.appendChild(n)})),a()}s.addEventListener("click",(t=>{const c=t.target;c.classList.contains("project-delete-btn")&&(n.splice(o,1),0===n.length&&n.push(new e("Default")),v(),S()),c.classList.contains("project-rename-btn")&&p.value&&(n[o].name=p.value,p.value="",v(),S())})),d.addEventListener("change",(()=>{o=d.value,S()}));const m=document.querySelector("#all-projects");m.addEventListener("change",(()=>{S()}));const h=document.querySelector("#new-task-title"),y=document.querySelector("#new-task-due-date");function k(e,t){e.tasks.forEach(((n,a)=>{const r=document.createElement("p");n.priority&&(r.textContent+="[Bell] "),r.textContent+=`${n.title} `,n.dueDate&&(r.textContent+=`[${n.dueDate}] `),m.checked&&(r.textContent+=`{${e.name}}`),i.appendChild(r),function(e,t,n){const a=document.createElement("button");a.textContent="Edit",i.appendChild(a),a.addEventListener("click",(()=>{n>=0&&(d.value=n,o=d.value),c=t,e.title?q.value=e.title:q.value="",e.description?f.value=e.description:f.value="",e.dueDate?C.value=e.dueDate:C.value="",e.priority?x.checked=e.priority:x.checked=!1,E.show()}))}(n,a,t),function(e,t){const n=document.createElement("button");n.textContent="Delete",i.appendChild(n),n.addEventListener("click",(()=>{e.splice(t,1),S()}))}(e.tasks,a)}))}function S(){i.innerText="",m.checked?n.forEach(((e,t)=>{k(e,t)})):k(n[o],o),a()}document.querySelector(".new-task-btn").addEventListener("click",(()=>{var e,c;h.value&&(e=h.value,c=y.value,n[o].tasks.push(new t(e,c)),h.value="",y.value="",S())}));const E=document.querySelector("dialog"),q=document.querySelector("#edit-title"),f=document.querySelector("#edit-description"),C=document.querySelector("#edit-due-date"),x=document.querySelector("#edit-priority");E.addEventListener("click",(e=>{const t=e.target;t.classList.contains("edit-submit-btn")&&(n[o].tasks[c].title=q.value,n[o].tasks[c].description=f.value,n[o].tasks[c].dueDate=C.value,n[o].tasks[c].priority=x.checked,S()),t.classList.contains("edit-close-btn")&&E.close()})),v(),S()})();
//# sourceMappingURL=index.bundle.js.map